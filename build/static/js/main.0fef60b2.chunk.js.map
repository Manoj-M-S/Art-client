{"version":3,"sources":["backend.js","auth/helper/index.js","core/navbar.js","core/Base.js","core/helper/ImageHelper.js","core/Card.js","core/helper/cartHelper.js","core/Home.js","core/helper/coreapicalls.js","user/Signup.js","user/Signin.js","auth/helper/AdminRoutes.js","auth/helper/PrivateRoutes.js","user/UserDashBoard.js","user/AdminDashBoard.js","admin/helper/adminapicall.js","admin/AddCategory.js","admin/ManageCategories.js","admin/AddProduct.js","admin/ManageProducts.js","admin/UpdateProduct.js","admin/UpdateCategory.js","core/paymentB.js","core/helper/paymentBHelper.js","core/helper/orderHelper.js","core/Cart.js","Routes.js","index.js"],"names":["API","process","isAuthenticated","window","localStorage","getItem","JSON","parse","currentTab","history","path","location","pathname","color","withRouter","className","style","to","user","role","onClick","next","removeItem","fetch","method","then","response","console","log","catch","error","signout","push","Base","title","description","children","type","placeholder","ImageHelper","product","imageurl","_id","src","alt","maxHeight","maxWidth","Card","addtoCart","removeFromCart","setReload","f","reload","undefined","useState","redirect","setRedirect","count","cartTitle","name","cartDescription","cartPrice","price","addToCart","item","cart","setItem","stringify","addItemToCart","getARedirect","alert","showAddToCart","productId","map","i","splice","removeItemfromCart","showRemoveFromCart","Home","products","setProducts","setError","loadAllProduct","json","err","data","useEffect","index","key","Signup","email","password","success","values","setValues","handleChange","event","target","value","onSubmit","preventDefault","headers","Accept","body","display","onChange","Signin","loading","didRedirect","signin","authenticate","AdminRoute","Component","component","rest","render","props","state","from","PrivateRoute","UserDashboard","AdminDashBoard","getCategories","AddCategory","setName","setSuccess","token","userId","category","Authorization","createCategory","successMessage","warningMessage","autoFocus","required","ManageCategories","categories","setCategories","preload","deleteThisCategory","categoryId","deleteCategory","length","AddProduct","stock","photo","createdProduct","getaRedirect","formData","FormData","CreateaProduct","files","set","accept","cate","ManageProducts","deleteMyProduct","deleteProduct","UpdateProduct","match","getProduct","preloadCategories","params","updateProduct","setTimeout","href","UpdateCategory","getCategory","updateCategory","Paymentb","clientToken","instance","info","setInfo","getToken","getmeToken","onPurchase","requestPaymentMethod","paymentData","paymentMethodNonce","nonce","amount","getAmount","paymentInfo","reponse","processPayment","orderData","transaction_id","transaction","id","order","createOrder","cartEmpty","p","options","authorization","onInstance","Cart","loadCart","loadAllProducts","Routes","exact","UserDashBoard","ReactDOM","document","getElementById"],"mappings":"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","file":"static/js/main.0fef60b2.chunk.js","sourcesContent":["export const API = process.env.REACT_APP_BACKEND;\r\n","import { API } from \"../../backend\";\r\n\r\nexport const signup = (user) => {\r\n  return fetch(`${API}/signup`, {\r\n    method: \"POST\",\r\n    headers: {\r\n      Accept: \"application/json\",\r\n      \"Content-Type\": \"application/json\",\r\n    },\r\n    body: JSON.stringify(user),\r\n  })\r\n    .then((response) => {\r\n      return response.json();\r\n    })\r\n    .catch((error) => console.log(error));\r\n};\r\n\r\nexport const signin = (user) => {\r\n  return fetch(`${API}/signin`, {\r\n    method: \"POST\",\r\n    headers: {\r\n      Accept: \"application/json\",\r\n      \"Content-Type\": \"application/json\",\r\n    },\r\n    body: JSON.stringify(user),\r\n  })\r\n    .then((response) => {\r\n      return response.json();\r\n    })\r\n    .catch((error) => console.log(error));\r\n};\r\n\r\nexport const authenticate = (data, next) => {\r\n  if (typeof window !== \"undefined\") {\r\n    localStorage.setItem(\"jwt\", JSON.stringify(data));\r\n    next();\r\n  }\r\n};\r\n\r\nexport const signout = (next) => {\r\n  if (typeof window !== \"undefined\") {\r\n    localStorage.removeItem(\"jwt\");\r\n    next();\r\n\r\n    return fetch(`${API}/signout`, {\r\n      method: \"GET\",\r\n    })\r\n      .then((response) => console.log(\"Signout Successs\"))\r\n      .catch((error) => console.log(error));\r\n  }\r\n};\r\n\r\nexport const isAuthenticated = () => {\r\n  if (typeof window == \"undefined\") {\r\n    return false;\r\n  }\r\n  if (localStorage.getItem(\"jwt\")) {\r\n    return JSON.parse(localStorage.getItem(\"jwt\"));\r\n  } else {\r\n    return false;\r\n  }\r\n};\r\n","import React, { Fragment } from \"react\";\r\nimport { Link, withRouter } from \"react-router-dom\";\r\nimport \"bootstrap/dist/css/bootstrap.min.css\";\r\nimport { signout, isAuthenticated } from \"../auth/helper\";\r\n\r\nconst currentTab = (history, path) => {\r\n  if (history.location.pathname === path) {\r\n    return { color: \"#2ecc72\" };\r\n  } else {\r\n    return { color: \"#ffffff\" };\r\n  }\r\n};\r\n\r\nconst Menu = ({ history }) => (\r\n  <nav className=\"navbar navbar-expand-lg  \">\r\n    {/* <a className=\"navbar-brand\" href=\"#\">Navbar</a> */}\r\n    {/* <button className=\"navbar-toggler\" type=\"button\" data-toggle=\"collapse\" data-target=\"#navbarSupportedContent\" aria-controls=\"navbarSupportedContent\" aria-expanded=\"false\" aria-label=\"Toggle navigation\">\r\n    <span className=\"navbar-toggler-icon\"></span>\r\n  </button> */}\r\n\r\n    <ul className=\"navbar-nav mr-auto\">\r\n      <li className=\"nav-item\">\r\n        <Link style={currentTab(history, \"/\")} className=\"nav-link\" to=\"/\">\r\n          Home\r\n        </Link>\r\n      </li>\r\n      {isAuthenticated() && (\r\n        <li className=\"nav-item\">\r\n          <Link\r\n            style={currentTab(history, \"/cart\")}\r\n            className=\"nav-link\"\r\n            to=\"/cart\"\r\n          >\r\n            Cart\r\n          </Link>\r\n        </li>\r\n      )}\r\n      {isAuthenticated() && isAuthenticated().user.role === 0 && (\r\n        <li className=\"nav-item\">\r\n          <Link\r\n            style={currentTab(history, \"/user/dashboard\")}\r\n            className=\"nav-link\"\r\n            to=\"/user/dashboard\"\r\n          >\r\n            User Dashboard\r\n          </Link>\r\n        </li>\r\n      )}\r\n      {isAuthenticated() && isAuthenticated().user.role === 1 && (\r\n        <li className=\"nav-item\">\r\n          <Link\r\n            style={currentTab(history, \"/admin/dashboard\")}\r\n            className=\"nav-link\"\r\n            to=\"/admin/dashboard\"\r\n          >\r\n            Admin Dashboard\r\n          </Link>\r\n        </li>\r\n      )}\r\n\r\n      {!isAuthenticated() && (\r\n        <Fragment>\r\n          <li className=\"nav-item\">\r\n            <Link\r\n              style={currentTab(history, \"/signup\")}\r\n              className=\"nav-link\"\r\n              to=\"/signup\"\r\n            >\r\n              Signup\r\n            </Link>\r\n          </li>\r\n          <li className=\"nav-item\">\r\n            <Link\r\n              style={currentTab(history, \"/signin\")}\r\n              className=\"nav-link\"\r\n              to=\"/signin\"\r\n            >\r\n              Signin\r\n            </Link>\r\n          </li>\r\n        </Fragment>\r\n      )}\r\n      {isAuthenticated() && (\r\n        <li className=\"nav-item\">\r\n          <span\r\n            className=\"nav-link text-warning\"\r\n            onClick={() => {\r\n              signout(() => {\r\n                history.push(\"/\");\r\n              });\r\n            }}\r\n          >\r\n            Signout\r\n          </span>\r\n        </li>\r\n      )}\r\n    </ul>\r\n  </nav>\r\n);\r\n\r\nexport default withRouter(Menu);\r\n","import React from \"react\";\r\nimport \"bootstrap/dist/css/bootstrap.min.css\";\r\nimport Menu from \"./navbar\";\r\n\r\nconst Base = ({\r\n  title = \"My title\",\r\n  description = \"My Description\",\r\n  className = \" p-4\",\r\n  children,\r\n}) => (\r\n  <div>\r\n    <Menu />\r\n    <div className=\"container-fluid\">\r\n      <div className=\"jumbotron  text-center\">\r\n        <h2 className=\"display-4\">{title}</h2>\r\n        <p className=\"lead\">{description}</p>\r\n      </div>\r\n      <div className={className}>{children}</div>\r\n    </div>\r\n    <footer className=\"footer  mt-auto py-3\">\r\n      <div className=\"container-fluid\">\r\n        <div className=\"row text-left\">\r\n          <div className=\"col-md-5 col-md-5\">\r\n            <h1 className=\"text-light\">About Us</h1>\r\n            <p className=\"text-muted\">\r\n              {\" \"}\r\n              Lorem ipsum dolor sit amet consectetur adipisicing elit. Animi\r\n              unde consequuntur ut tenetur amet debitis itaque, ullam hic,\r\n              fugiat, nulla totam molestiae veritatis quidem cum esse laboriosam\r\n              atque maxime dolore.\r\n            </p>\r\n            <p className=\"pt-4 text-muted\">\r\n              Copyright @2019 All rights reserved | This is made by\r\n              <span> MANOJ M S </span>\r\n            </p>\r\n          </div>\r\n          <div className=\"col-md-5\">\r\n            <h4 className=\"text-light\">Newsletter</h4>\r\n            <p className=\"text-muted\">Stay Updated</p>\r\n            <form className=\"form-inline\">\r\n              <div className=\"col pl-\">\r\n                <div className=\"input-group pr-5\">\r\n                  <input\r\n                    type=\"text\"\r\n                    className=\"form-control bg-dark text-white\"\r\n                    placeholder=\"Email\"\r\n                  />\r\n                  <div className=\"input-group-prepend\">\r\n                    <div className=\"input-group-text\">\r\n                      <i className=\"fas fa-arrow-right\"></i>\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            </form>\r\n          </div>\r\n          <div className=\"col-md-2 col-sm-12\">\r\n            <h4 className=\"text-light\">Follow Us</h4>\r\n            <p className=\"text-muted\">Let us be social</p>\r\n            <div className=\"column\">\r\n              <i className=\"fab fa-facebook-f\"></i>\r\n              <i className=\"fab fa-instagram\"></i>\r\n              <i className=\"fab fa-twitter\"></i>\r\n              <i className=\"fab fa-youtube\"></i>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </footer>\r\n  </div>\r\n);\r\n\r\nexport default Base;\r\n","import React from \"react\";\r\nimport { API } from \"../../backend\";\r\n\r\nconst ImageHelper = ({ product }) => {\r\n  const imageurl = product\r\n    ? ` ${API}/product/photo/${product._id}`\r\n    : `https://images.pexels.com/photos/3561339/pexels-photo-3561339.jpeg?auto=compress&cs=tinysrgb&dpr=1&w=500`;\r\n  return (\r\n    <img\r\n      src={imageurl}\r\n      alt=\"photo\"\r\n      style={{ maxHeight: \"100%\", maxWidth: \"100%\" }}\r\n      className=\"mb-3 rounded\"\r\n    />\r\n  );\r\n};\r\n\r\nexport default ImageHelper;\r\n","import React, { useState, useEffect } from \"react\";\r\nimport ImageHelper from \"./helper/ImageHelper\";\r\nimport { Redirect } from \"react-router-dom\";\r\nimport { addItemToCart, removeItemfromCart } from \"./helper/cartHelper\";\r\nimport { isAuthenticated } from \"../auth/helper\";\r\n\r\nconst Card = ({\r\n  product,\r\n  addtoCart = true,\r\n  removeFromCart = false,\r\n  setReload = (f) => f, //function(f){return f}\r\n  reload = undefined,\r\n}) => {\r\n  const [redirect, setRedirect] = useState(false);\r\n  const [count, setCount] = useState(product.count);\r\n\r\n  const cartTitle = product ? product.name : \"A photo from pexels\";\r\n  const cartDescription = product ? product.description : \"Default Description\";\r\n  const cartPrice = product ? product.price : \"DEFAULT\";\r\n\r\n  const addToCart = () => {\r\n    addItemToCart(product, () => setRedirect(true));\r\n  };\r\n\r\n  const getARedirect = (redirect) => {\r\n    if (redirect) {\r\n      return <Redirect to=\"/cart\" />;\r\n    }\r\n  };\r\n\r\n  const showAddToCart = (addtoCart) => {\r\n    return (\r\n      addtoCart && (\r\n        <button\r\n          onClick={() => {\r\n            if (isAuthenticated()) {\r\n              addToCart();\r\n            } else {\r\n              alert(\"You have to be logged in to add Products to Cart.\");\r\n            }\r\n          }}\r\n          className=\"btn btn-block btn-outline-dark rounded mt-2 mb-2\"\r\n        >\r\n          Add to Cart\r\n        </button>\r\n      )\r\n    );\r\n  };\r\n  const showRemoveFromCart = (removeFromCart) => {\r\n    return (\r\n      removeFromCart && (\r\n        <button\r\n          onClick={() => {\r\n            removeItemfromCart(product._id);\r\n            setReload(!reload);\r\n          }}\r\n          className=\"btn btn-block btn-outline-dark rounded mt-2 mb-2\"\r\n        >\r\n          Remove from cart\r\n        </button>\r\n      )\r\n    );\r\n  };\r\n\r\n  return (\r\n    <div className=\"card\">\r\n      <div className=\"card-header lead\">{cartTitle}</div>\r\n      <div className=\"card-body\">\r\n        {getARedirect(redirect)}\r\n        <ImageHelper product={product} />\r\n        <p className=\"lead font-weight-normal text-wrap\">{cartDescription}</p>\r\n        <p className=\"btn btn-dark rounded text-white  btn-sm px-4\">\r\n          $ {cartPrice}\r\n        </p>\r\n        <div className=\"row\">\r\n          <div className=\"col-12\">{showAddToCart(addtoCart)}</div>\r\n          <div className=\"col-12\">{showRemoveFromCart(removeFromCart)}</div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Card;\r\n","export const addItemToCart = (item, next) => {\r\n  let cart = [];\r\n  if (typeof window !== undefined) {\r\n    if (localStorage.getItem(\"cart\")) {\r\n      cart = JSON.parse(localStorage.getItem(\"cart\"));\r\n    }\r\n    cart.push({\r\n      ...item,\r\n      count: 1,\r\n    });\r\n    localStorage.setItem(\"cart\", JSON.stringify(cart));\r\n    next();\r\n  }\r\n};\r\n\r\nexport const loadCart = () => {\r\n  if (typeof window !== undefined) {\r\n    if (localStorage.getItem(\"cart\")) {\r\n      return JSON.parse(localStorage.getItem(\"cart\"));\r\n    }\r\n  }\r\n};\r\n\r\nexport const removeItemfromCart = (productId) => {\r\n  let cart = [];\r\n  if (typeof window !== undefined) {\r\n    if (localStorage.getItem(\"cart\")) {\r\n      cart = JSON.parse(localStorage.getItem(\"cart\"));\r\n    }\r\n    cart.map((product, i) => {\r\n      if (product._id === productId) {\r\n        cart.splice(i, 1);\r\n      }\r\n    });\r\n    localStorage.setItem(\"cart\", JSON.stringify(cart));\r\n  }\r\n  return cart;\r\n};\r\n\r\nexport const cartEmpty = (next) => {\r\n  if (typeof window !== undefined) {\r\n    localStorage.removeItem(\"cart\");\r\n    let cart = [];\r\n    localStorage.setItem(\"cart\", JSON.stringify(cart));\r\n    next();\r\n  }\r\n};\r\n","import React, { useState, useEffect } from \"react\";\r\nimport \"bootstrap/dist/css/bootstrap.min.css\";\r\nimport \"../styles.css\";\r\nimport Base from \"../core/Base\";\r\nimport Card from \"./Card\";\r\nimport { getProducts } from \"./helper/coreapicalls\";\r\n\r\nconst Home = () => {\r\n  const [products, setProducts] = useState([]);\r\n  const [error, setError] = useState(false);\r\n\r\n  const loadAllProduct = () => {\r\n    getProducts().then((data) => {\r\n      if (data.error) {\r\n        setError(data.error);\r\n      } else {\r\n        setProducts(data);\r\n      }\r\n    });\r\n  };\r\n\r\n  useEffect(() => {\r\n    loadAllProduct();\r\n  }, []);\r\n\r\n  return (\r\n    <Base title=\"Home Page\" description=\"Welcome to T-shirt store\">\r\n      <div className=\"row text-center\">\r\n        <div className=\"lined-heading\">\r\n          <h3>Our Collection</h3>\r\n        </div>\r\n        <div className=\"row\">\r\n          {products.map((product, index) => {\r\n            return (\r\n              <div key={index} className=\"col-4 mb-4\">\r\n                <Card product={product} />\r\n              </div>\r\n            );\r\n          })}\r\n        </div>\r\n      </div>\r\n    </Base>\r\n  );\r\n};\r\n\r\nexport default Home;\r\n","import { API } from \"../../backend\";\r\nimport { Fragment } from \"react\";\r\n\r\nexport const getProducts = () => {\r\n  return fetch(`${API}/products`, {\r\n    method: \"GET\",\r\n  })\r\n    .then((response) => {\r\n      return response.json();\r\n    })\r\n    .catch((err) => console.log(err));\r\n};\r\n","import React, { useState } from \"react\";\r\nimport Base from \"../core/Base\";\r\nimport { Link } from \"react-router-dom\";\r\nimport \"bootstrap/dist/css/bootstrap.min.css\";\r\nimport { signup } from \"../auth/helper\";\r\n\r\nconst Signup = () => {\r\n  const [values, setValues] = useState({\r\n    name: \"\",\r\n    email: \"\",\r\n    password: \"\",\r\n    error: \"\",\r\n    success: false,\r\n  });\r\n\r\n  const { name, email, password, error, success } = values;\r\n\r\n  const handleChange = (name) => (event) => {\r\n    setValues({ ...values, error: false, [name]: event.target.value });\r\n  };\r\n\r\n  const onSubmit = (event) => {\r\n    event.preventDefault();\r\n    setValues({ ...values, error: false });\r\n    signup({ name, email, password })\r\n      .then((data) => {\r\n        if (data.error) {\r\n          setValues({ ...values, error: data.error, success: false });\r\n        } else {\r\n          setValues({\r\n            ...values,\r\n            name: \"\",\r\n            email: \"\",\r\n            password: \"\",\r\n            error: \"\",\r\n            success: true,\r\n          });\r\n        }\r\n      })\r\n      .catch(console.log(\"Error in signup\"));\r\n  };\r\n\r\n  const signUpForm = () => {\r\n    return (\r\n      <div className=\"row\">\r\n        <div className=\"col-md-6 offset-sm-3 text-left\">\r\n          <form>\r\n            <div className=\"form-group\">\r\n              <label>Name</label>\r\n              <input\r\n                className=\"form-control\"\r\n                onChange={handleChange(\"name\")}\r\n                type=\"text\"\r\n                value={name}\r\n              />\r\n            </div>\r\n            <div className=\"form-group\">\r\n              <label>Email</label>\r\n              <input\r\n                className=\"form-control\"\r\n                onChange={handleChange(\"email\")}\r\n                type=\"email\"\r\n                value={email}\r\n              />\r\n            </div>\r\n\r\n            <div className=\"form-group\">\r\n              <label>Password</label>\r\n              <input\r\n                onChange={handleChange(\"password\")}\r\n                className=\"form-control\"\r\n                type=\"password\"\r\n                value={password}\r\n              />\r\n            </div>\r\n            <button\r\n              onClick={onSubmit}\r\n              className=\"btn btn-dark btn-block rounded\"\r\n            >\r\n              Submit\r\n            </button>\r\n          </form>\r\n        </div>\r\n      </div>\r\n    );\r\n  };\r\n\r\n  const successMessage = () => (\r\n    <div className=\"row\">\r\n      <div className=\"col-md-6 offset-sm-3 text-left\">\r\n        <div\r\n          className=\"alert alert-success\"\r\n          style={{ display: success ? \"\" : \"none\" }}\r\n        >\r\n          New account was created successfully. Please\r\n          <Link to=\"/signin\">Login Here</Link>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n\r\n  const errorMessage = () => (\r\n    <div className=\"row\">\r\n      <div className=\"col-md-6 offset-sm-3 text-left\">\r\n        <div\r\n          className=\"alert alert-success\"\r\n          style={{ display: error ? \"\" : \"none\" }}\r\n        >\r\n          {error}\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n\r\n  return (\r\n    <Base title=\"Sign up page\" description=\"A page for user to sign up!\">\r\n      {successMessage()}\r\n      {errorMessage()}\r\n      {signUpForm()}\r\n    </Base>\r\n  );\r\n};\r\n\r\nexport default Signup;\r\n","import React, { useState } from \"react\";\r\nimport Base from \"../core/Base\";\r\nimport { Redirect } from \"react-router-dom\";\r\nimport { signin, authenticate, isAuthenticated } from \"../auth/helper\";\r\n\r\nconst Signin = () => {\r\n  const [values, setValues] = useState({\r\n    email: \"\",\r\n    password: \"\",\r\n    error: \"\",\r\n    loading: false,\r\n    didRedirect: false,\r\n  });\r\n\r\n  const { email, password, error, loading, didRedirect } = values;\r\n  const { user } = isAuthenticated();\r\n\r\n  const handleChange = (name) => (event) => {\r\n    setValues({ ...values, error: false, [name]: event.target.value });\r\n  };\r\n\r\n  const onSubmit = (event) => {\r\n    event.preventDefault();\r\n    setValues({ ...values, error: false, loading: true });\r\n    signin({ email, password })\r\n      .then((data) => {\r\n        if (data.error) {\r\n          setValues({ ...values, error: data.error, loading: false });\r\n        } else {\r\n          authenticate(data, () => {\r\n            setValues({\r\n              ...values,\r\n              didRedirect: true,\r\n            });\r\n          });\r\n        }\r\n      })\r\n      .catch(console.log(\"Signin failed.\"));\r\n  };\r\n\r\n  const performRedirect = () => {\r\n    if (didRedirect) {\r\n      if (user && user.role === 1) {\r\n        return <Redirect to=\"/admin/dashboard\" />;\r\n      } else {\r\n        return <Redirect to=\"/user/dashboard\" />;\r\n      }\r\n    }\r\n    if (isAuthenticated()) {\r\n      return <Redirect to=\"/\" />;\r\n    }\r\n  };\r\n\r\n  const loadingMessage = () => {\r\n    return (\r\n      loading && (\r\n        <div className=\"alert alert-info\">\r\n          <h2>Loading...</h2>\r\n        </div>\r\n      )\r\n    );\r\n  };\r\n\r\n  const errorMessage = () => (\r\n    <div className=\"row\">\r\n      <div className=\"col-md-6 offset-sm-3 text-left\">\r\n        <div\r\n          className=\"alert alert-success\"\r\n          style={{ display: error ? \"\" : \"none\" }}\r\n        >\r\n          {error}\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n\r\n  const signInForm = () => {\r\n    return (\r\n      <div className=\"row\">\r\n        <div className=\"col-md-6 offset-sm-3 text-left\">\r\n          <form>\r\n            <div className=\"form-group\">\r\n              <label>Email</label>\r\n              <input\r\n                onChange={handleChange(\"email\")}\r\n                value={email}\r\n                className=\"form-control\"\r\n                type=\"email\"\r\n              />\r\n            </div>\r\n            <div className=\"form-group\">\r\n              <label>Password</label>\r\n              <input\r\n                onChange={handleChange(\"password\")}\r\n                value={password}\r\n                className=\"form-control\"\r\n                type=\"password\"\r\n              />\r\n            </div>\r\n            <button\r\n              onClick={onSubmit}\r\n              className=\"btn btn-dark btn-block rounded\"\r\n            >\r\n              Submit\r\n            </button>\r\n          </form>\r\n        </div>\r\n      </div>\r\n    );\r\n  };\r\n  return (\r\n    <Base title=\"Signin page\" description=\"A pager for user to signin\">\r\n      {loadingMessage()}\r\n      {errorMessage()}\r\n      {signInForm()}\r\n      {performRedirect()}\r\n    </Base>\r\n  );\r\n};\r\n\r\nexport default Signin;\r\n","import React from \"react\";\r\nimport { Route, Redirect } from \"react-router-dom\";\r\nimport { isAuthenticated } from \"./index\";\r\n\r\nconst AdminRoute = ({ component: Component, ...rest }) => {\r\n  return (\r\n    <Route\r\n      {...rest}\r\n      render={(props) =>\r\n        isAuthenticated() && isAuthenticated().user.role === 1 ? (\r\n          <Component {...props} />\r\n        ) : (\r\n          <Redirect\r\n            to={{\r\n              pathname: \"/signin\",\r\n              state: { from: props.location },\r\n            }}\r\n          />\r\n        )\r\n      }\r\n    />\r\n  );\r\n};\r\n\r\nexport default AdminRoute;\r\n","import React from \"react\";\r\nimport { Route, Redirect } from \"react-router-dom\";\r\nimport { isAuthenticated } from \"./index\";\r\n\r\nconst PrivateRoute = ({ component: Component, ...rest }) => {\r\n  return (\r\n    <Route\r\n      {...rest}\r\n      render={(props) =>\r\n        isAuthenticated() ? (\r\n          <Component {...props} />\r\n        ) : (\r\n          <Redirect\r\n            to={{\r\n              pathname: \"/signin\",\r\n              state: { from: props.location },\r\n            }}\r\n          />\r\n        )\r\n      }\r\n    />\r\n  );\r\n};\r\n\r\nexport default PrivateRoute;\r\n","import React from \"react\";\r\nimport Base from \"../core/Base\";\r\n\r\nconst UserDashboard = () => {\r\n  return (\r\n    <Base title=\"User Dashboard\">\r\n      <h1> This is a User Dashboard</h1>\r\n    </Base>\r\n  );\r\n};\r\n\r\nexport default UserDashboard;\r\n","import React from \"react\";\r\nimport Base from \"../core/Base\";\r\nimport { isAuthenticated } from \"../auth/helper/index\";\r\nimport { Link } from \"react-router-dom\";\r\n\r\nconst AdminDashBoard = () => {\r\n  const {\r\n    user: { name, email },\r\n  } = isAuthenticated();\r\n\r\n  const adminLeftSide = () => {\r\n    return (\r\n      <div className=\"card\">\r\n        <h4 className=\"card-header \">Admin Navigation</h4>\r\n        <ul className=\"list-group\">\r\n          <li className=\"list-group-item\">\r\n            <Link to=\"/admin/create/category\" className=\"nav-link text-success\">\r\n              Create Categories\r\n            </Link>\r\n          </li>\r\n          <li className=\"list-group-item\">\r\n            <Link to=\"/admin/categories\" className=\"nav-link text-success\">\r\n              Manage Categories\r\n            </Link>\r\n          </li>\r\n          <li className=\"list-group-item\">\r\n            <Link to=\"/admin/create/product\" className=\"nav-link text-success\">\r\n              Create Product\r\n            </Link>\r\n          </li>\r\n          <li className=\"list-group-item\">\r\n            <Link to=\"/admin/products\" className=\"nav-link text-success\">\r\n              Manage Products\r\n            </Link>\r\n          </li>\r\n          <li className=\"list-group-item\">\r\n            <Link to=\"/admin/orders\" className=\"nav-link text-success\">\r\n              Manage Orders\r\n            </Link>\r\n          </li>\r\n        </ul>\r\n      </div>\r\n    );\r\n  };\r\n\r\n  const adminRightSide = () => {\r\n    return (\r\n      <div className=\"card mb-4\">\r\n        <h4 className=\"card-header\">Admin Information</h4>\r\n        <ul className=\"list-group\">\r\n          <li className=\"list-group-item\">\r\n            <span className=\"badge badge-success mr-3\">Name:</span> {name}\r\n          </li>\r\n          <li className=\"list-group-item\">\r\n            <span className=\"badge badge-success mr-3\">Email:</span> {email}\r\n          </li>\r\n        </ul>\r\n      </div>\r\n    );\r\n  };\r\n  return (\r\n    <Base\r\n      title=\"Welcome to admin area\"\r\n      description=\"Manage all of your products here\"\r\n      className=\"container  p-4\"\r\n    >\r\n      <div className=\"row\">\r\n        <div className=\"col-4\">{adminLeftSide()}</div>\r\n        <div className=\"col-8\">{adminRightSide()}</div>\r\n      </div>\r\n    </Base>\r\n  );\r\n};\r\n\r\nexport default AdminDashBoard;\r\n","import { API } from \"../../backend\";\r\n\r\n//---------------------Catrgory Calls-----------------------//\r\n\r\n//Create Category\r\nexport const createCategory = (userId, token, category) => {\r\n  return fetch(`${API}/category/create/${userId}`, {\r\n    method: \"POST\",\r\n    headers: {\r\n      Accept: \"application/json\",\r\n      \"Content-Type\": \"application/json\",\r\n      Authorization: `Bearer ${token}`,\r\n    },\r\n    body: JSON.stringify(category),\r\n  })\r\n    .then((response) => {\r\n      return response.json();\r\n    })\r\n    .catch((err) => console.log(err));\r\n};\r\n\r\n//Get all Categories\r\nexport const getCategories = () => {\r\n  return fetch(`${API}/categories`, {\r\n    method: \"GET\",\r\n  })\r\n    .then((response) => {\r\n      return response.json();\r\n    })\r\n    .catch((err) => console.log(err));\r\n};\r\n\r\n//Update a Category\r\nexport const updateCategory = (categoryId, userId, token, category) => {\r\n  return fetch(`${API}/category/${categoryId}/${userId}`, {\r\n    method: \"PUT\",\r\n    headers: {\r\n      Accept: \"application/json\",\r\n      \"Content-Type\": \"application/json\",\r\n      Authorization: `Bearer ${token}`,\r\n    },\r\n    body: JSON.stringify(category),\r\n  })\r\n    .then((response) => {\r\n      return response.json();\r\n    })\r\n    .catch((err) => console.log(err));\r\n};\r\n\r\n//Get a Category\r\nexport const getCategory = (categoryId) => {\r\n  return fetch(`${API}/category/${categoryId}`, {\r\n    method: \"GET\",\r\n  })\r\n    .then((response) => {\r\n      return response.json();\r\n    })\r\n    .catch((err) => console.log(err));\r\n};\r\n\r\n//Delete a Category\r\nexport const deleteCategory = (categoryId, userId, token) => {\r\n  return fetch(`${API}/category/${categoryId}/${userId}`, {\r\n    method: \"DELETE\",\r\n    headers: {\r\n      Accept: \"application/json\",\r\n      Authorization: `Bearer ${token}`,\r\n    },\r\n  })\r\n    .then((response) => {\r\n      return response.json();\r\n    })\r\n    .catch((err) => console.log(err));\r\n};\r\n\r\n//-----------------------------Product Calls--------------------------------//\r\n\r\n//Create a Product\r\nexport const CreateaProduct = (userId, token, product) => {\r\n  return fetch(`${API}/product/create/${userId}`, {\r\n    method: \"POST\",\r\n    headers: {\r\n      Accept: \"application/json\",\r\n      Authorization: `Bearer ${token}`,\r\n    },\r\n    body: product,\r\n  })\r\n    .then((response) => {\r\n      return response.json();\r\n    })\r\n    .catch((err) => console.log(err));\r\n};\r\n\r\n//Get all Products\r\nexport const getProducts = () => {\r\n  return fetch(`${API}/products`, {\r\n    method: \"GET\",\r\n  })\r\n    .then((response) => {\r\n      return response.json();\r\n    })\r\n    .catch((err) => console.log(err));\r\n};\r\n\r\n//Delete a Product\r\nexport const deleteProduct = (productId, userId, token) => {\r\n  return fetch(`${API}/product/${productId}/${userId}`, {\r\n    method: \"DELETE\",\r\n    headers: {\r\n      Accept: \"application/json\",\r\n      Authorization: `Bearer ${token}`,\r\n    },\r\n  })\r\n    .then((response) => {\r\n      return response.json();\r\n    })\r\n    .catch((err) => console.log(err));\r\n};\r\n\r\n//Get a Product\r\nexport const getProduct = (productId) => {\r\n  return fetch(`${API}/product/${productId}`, {\r\n    method: \"GET\",\r\n  })\r\n    .then((response) => {\r\n      return response.json();\r\n    })\r\n    .catch((err) => console.log(err));\r\n};\r\n\r\n//Update a Product\r\nexport const updateProduct = (productId, userId, token, product) => {\r\n  return fetch(`${API}/product/${productId}/${userId}`, {\r\n    method: \"PUT\",\r\n    headers: {\r\n      Accept: \"application/json\",\r\n      Authorization: `Bearer ${token}`,\r\n    },\r\n    body: product,\r\n  })\r\n    .then((response) => {\r\n      return response.json();\r\n    })\r\n    .catch((err) => console.log(err));\r\n};\r\n","import React, { useState } from \"react\";\r\nimport Base from \"../core/Base\";\r\nimport { isAuthenticated } from \"../auth/helper\";\r\nimport { Link } from \"react-router-dom\";\r\nimport { createCategory } from \"../admin/helper/adminapicall\";\r\n\r\nconst AddCategory = () => {\r\n  const [name, setName] = useState(\"\");\r\n  const [error, setError] = useState(false);\r\n  const [success, setSuccess] = useState(false);\r\n  const { user, token } = isAuthenticated();\r\n\r\n  const goBack = () => (\r\n    <div className=\"mt-4\">\r\n      <Link\r\n        className=\"btn btn-sm btn-success mb-4 rounded\"\r\n        to=\"/admin/dashboard\"\r\n      >\r\n        Admin Home\r\n      </Link>\r\n    </div>\r\n  );\r\n\r\n  const handleChange = (event) => {\r\n    setError(\"\");\r\n    setName(event.target.value);\r\n  };\r\n\r\n  const onSubmit = (event) => {\r\n    event.preventDefault();\r\n    setError(\"\");\r\n    setSuccess(false);\r\n\r\n    createCategory(user._id, token, { name }).then((data) => {\r\n      if (data.error) {\r\n        setError(true);\r\n      } else {\r\n        setError(\"\");\r\n        setSuccess(true);\r\n        setName(\"\");\r\n      }\r\n    });\r\n  };\r\n\r\n  const successMessage = () => {\r\n    if (success) {\r\n      return <h4 className=\"text-success\">Category Created Succesfully!</h4>;\r\n    }\r\n  };\r\n\r\n  const warningMessage = () => {\r\n    if (error) {\r\n      return <h4 className=\"text-success\">Failed to Create Category </h4>;\r\n    }\r\n  };\r\n\r\n  const myCategoryForm = () => {\r\n    return (\r\n      <div className=\"card\">\r\n        <div className=\"card-header lead\">Enter Category</div>\r\n        <div className=\"card-body\">\r\n          <form>\r\n            <div className=\"form-group\">\r\n              <input\r\n                type=\"text\"\r\n                className=\"form-control my-3\"\r\n                onChange={handleChange}\r\n                value={name}\r\n                autoFocus\r\n                required\r\n                placeholder=\"For Ex.Summer\"\r\n              />\r\n              <button\r\n                onClick={onSubmit}\r\n                className=\"btn btn-outline-success rounded\"\r\n              >\r\n                Create a Category\r\n              </button>\r\n            </div>\r\n          </form>\r\n        </div>\r\n      </div>\r\n    );\r\n  };\r\n\r\n  return (\r\n    <Base\r\n      title=\"Create a Category here\"\r\n      description=\"Add a new category for photos\"\r\n      className=\"container p-4\"\r\n    >\r\n      <div className=\"col-md-8 offset-md-2\">\r\n        {successMessage()}\r\n        {warningMessage()}\r\n        {myCategoryForm()}\r\n        {goBack()}\r\n      </div>\r\n    </Base>\r\n  );\r\n};\r\n\r\nexport default AddCategory;\r\n","import React, { useState, useEffect } from \"react\";\r\nimport Base from \"../core/Base\";\r\nimport { Link } from \"react-router-dom\";\r\nimport { isAuthenticated } from \"../auth/helper\";\r\nimport { getCategories, deleteCategory } from \"./helper/adminapicall\";\r\n\r\nconst ManageCategories = () => {\r\n  const [categories, setCategories] = useState([]);\r\n\r\n  const { user, token } = isAuthenticated();\r\n\r\n  const preload = () => {\r\n    getCategories().then((data) => {\r\n      if (data.error) {\r\n        console.log(data.error);\r\n      } else {\r\n        setCategories(data);\r\n      }\r\n    });\r\n  };\r\n\r\n  useEffect(() => {\r\n    preload();\r\n  }, []);\r\n\r\n  const deleteThisCategory = (categoryId) => {\r\n    deleteCategory(categoryId, user._id, token).then((data) => {\r\n      if (data?.error) {\r\n        console.log(data.error);\r\n      } else {\r\n        preload();\r\n      }\r\n    });\r\n  };\r\n\r\n  return (\r\n    <Base title=\"Welcome admin\" description=\"Manage Categories here\">\r\n      <h2 className=\"mb-4 \">All Categories:</h2>\r\n      <Link className=\"btn btn-dark rounded\" to={`/admin/dashboard`}>\r\n        <span>Admin Home</span>\r\n      </Link>\r\n      <div className=\"card\">\r\n        <div className=\"card-header lead\">Manage Category</div>\r\n        <div className=\"card-body\">\r\n          <div className=\"row\">\r\n            <div className=\"col-12\">\r\n              <h2 className=\"text-center  my-3\">\r\n                Total {categories.length} categories\r\n              </h2>\r\n              {categories.map((category, index) => {\r\n                return (\r\n                  <div key={index}>\r\n                    <ul className=\"list-group\">\r\n                      <li className=\"list-group-item\">\r\n                        <div className=\"row text-center mb-2 \">\r\n                          <div className=\"col-4\">\r\n                            <h3>{category.name}</h3>\r\n                          </div>\r\n                          <div className=\"col-4\">\r\n                            <Link\r\n                              className=\"btn btn-success rounded\"\r\n                              to={`/admin/category/update/${category._id}`}\r\n                            >\r\n                              <span>Update</span>\r\n                            </Link>\r\n                          </div>\r\n                          <div className=\"col-4\">\r\n                            <button\r\n                              onClick={() => {\r\n                                deleteThisCategory(category._id);\r\n                              }}\r\n                              className=\"btn btn-danger rounded\"\r\n                            >\r\n                              Delete\r\n                            </button>\r\n                          </div>\r\n                        </div>\r\n                      </li>\r\n                    </ul>\r\n                  </div>\r\n                );\r\n              })}\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </Base>\r\n  );\r\n};\r\n\r\nexport default ManageCategories;\r\n","import React, { useState, useEffect } from \"react\";\r\nimport Base from \"../core/Base\";\r\nimport { Link } from \"react-router-dom\";\r\nimport { getCategories, CreateaProduct } from \"./helper/adminapicall\";\r\nimport { isAuthenticated } from \"../auth/helper/index\";\r\n\r\nconst AddProduct = () => {\r\n  const { user, token } = isAuthenticated();\r\n\r\n  const [values, setValues] = useState({\r\n    name: \"\",\r\n    description: \"\",\r\n    price: \"\",\r\n    stock: \"\",\r\n    photo: \"\",\r\n    categories: [],\r\n    category: \"\",\r\n    loading: false,\r\n    error: \"\",\r\n    createdProduct: \"\",\r\n    getaRedirect: \"false\",\r\n    formData: \"\",\r\n  });\r\n\r\n  const {\r\n    name,\r\n    description,\r\n    price,\r\n    stock,\r\n    categories,\r\n    category,\r\n    loading,\r\n    error,\r\n    createdProduct,\r\n    getaRedirect,\r\n    formData,\r\n  } = values;\r\n\r\n  const preload = () => {\r\n    getCategories().then((data) => {\r\n      if (data.error) {\r\n        setValues({ ...values, error: data.error });\r\n      } else {\r\n        setValues({ ...values, categories: data, formData: new FormData() });\r\n      }\r\n    });\r\n  };\r\n\r\n  useEffect(() => {\r\n    preload();\r\n  }, []);\r\n\r\n  const onSubmit = (event) => {\r\n    event.preventDefault();\r\n    setValues({ ...values, error: \"\", loading: true });\r\n    CreateaProduct(user._id, token, formData).then((data) => {\r\n      if (data.error) {\r\n        setValues({ ...values, error: data.error });\r\n      } else {\r\n        setValues({\r\n          ...values,\r\n          name: \"\",\r\n          description: \"\",\r\n          price: \"\",\r\n          photo: \"\",\r\n          stock: \"\",\r\n          loading: false,\r\n          createdProduct: data.name,\r\n        });\r\n      }\r\n    });\r\n  };\r\n\r\n  const handleChange = (name) => (event) => {\r\n    const value = name === \"photo\" ? event.target.files[0] : event.target.value;\r\n    formData.set(name, value);\r\n    setValues({ ...values, [name]: value });\r\n  };\r\n\r\n  const successMessage = () => (\r\n    <div\r\n      className=\"alert alert-success mt-2\"\r\n      style={{ display: createdProduct ? \"\" : \"none\" }}\r\n    >\r\n      <h4>{createdProduct} Created Successfully</h4>\r\n    </div>\r\n  );\r\n\r\n  const warningMessage = () => (\r\n    <div\r\n      className=\"alert alert-success mt-2\"\r\n      style={{ display: error ? \"\" : \"none\" }}\r\n    >\r\n      <h4>{error} Failed</h4>\r\n    </div>\r\n  );\r\n\r\n  const createProductForm = () => (\r\n    <form>\r\n      <span>Post photo</span>\r\n      <div className=\"form-group\">\r\n        <label className=\"btn btn-block btn-dark rounded\">\r\n          <input\r\n            onChange={handleChange(\"photo\")}\r\n            type=\"file\"\r\n            name=\"photo\"\r\n            accept=\"image\"\r\n            placeholder=\"choose a file\"\r\n          />\r\n        </label>\r\n      </div>\r\n      <div className=\"form-group\">\r\n        <input\r\n          onChange={handleChange(\"name\")}\r\n          name=\"photo\"\r\n          className=\"form-control\"\r\n          placeholder=\"Name\"\r\n          value={name}\r\n        />\r\n      </div>\r\n      <div className=\"form-group\">\r\n        <textarea\r\n          onChange={handleChange(\"description\")}\r\n          name=\"photo\"\r\n          className=\"form-control\"\r\n          placeholder=\"Description\"\r\n          value={description}\r\n        />\r\n      </div>\r\n      <div className=\"form-group\">\r\n        <input\r\n          onChange={handleChange(\"price\")}\r\n          type=\"number\"\r\n          className=\"form-control\"\r\n          placeholder=\"Price\"\r\n          value={price}\r\n        />\r\n      </div>\r\n      <div className=\"form-group\">\r\n        <select\r\n          onChange={handleChange(\"category\")}\r\n          className=\"form-control\"\r\n          placeholder=\"Category\"\r\n        >\r\n          <option>Select</option>\r\n          {categories &&\r\n            categories.map((cate, index) => (\r\n              <option key={index} value={cate._id}>\r\n                {cate.name}\r\n              </option>\r\n            ))}\r\n        </select>\r\n      </div>\r\n      <div className=\"form-group\">\r\n        <input\r\n          onChange={handleChange(\"stock\")}\r\n          type=\"number\"\r\n          className=\"form-control\"\r\n          placeholder=\"Stock\"\r\n          value={stock}\r\n        />\r\n      </div>\r\n\r\n      <button\r\n        type=\"submit\"\r\n        onClick={onSubmit}\r\n        className=\"btn btn-success rounded mb-2\"\r\n      >\r\n        Create Product\r\n      </button>\r\n    </form>\r\n  );\r\n\r\n  return (\r\n    <Base\r\n      title=\"Add a product here\"\r\n      description=\"Welcome to product creation\"\r\n      className=\"container  p-4\"\r\n    >\r\n      <Link to=\"/admin/dashboard\" className=\"btn btn-md btn-dark mb-3 rounded\">\r\n        Admin Home\r\n      </Link>\r\n      <div className=\"row rounded\">\r\n        <div className=\"col-md-8 offset-md-2\">\r\n          {successMessage()}\r\n          {warningMessage()}\r\n          {createProductForm()}\r\n        </div>\r\n      </div>\r\n    </Base>\r\n  );\r\n};\r\n\r\nexport default AddProduct;\r\n","import React, { useState, useEffect } from \"react\";\r\nimport Base from \"../core/Base\";\r\nimport { Link } from \"react-router-dom\";\r\nimport { isAuthenticated } from \"../auth/helper\";\r\nimport { getProducts, deleteProduct } from \"./helper/adminapicall\";\r\n\r\nconst ManageProducts = () => {\r\n  const [products, setProducts] = useState([]);\r\n\r\n  const { user, token } = isAuthenticated();\r\n\r\n  const preload = () => {\r\n    getProducts().then((data) => {\r\n      if (data.error) {\r\n        console.log(data.error);\r\n      } else {\r\n        setProducts(data);\r\n      }\r\n    });\r\n  };\r\n\r\n  useEffect(() => {\r\n    preload();\r\n  }, []);\r\n\r\n  const deleteMyProduct = (productId) => {\r\n    deleteProduct(productId, user._id, token).then((data) => {\r\n      if (data.error) {\r\n        console.log(data.error);\r\n      } else {\r\n        preload();\r\n      }\r\n    });\r\n  };\r\n\r\n  return (\r\n    <Base title=\"Welcome admin\" description=\"Manage products here\">\r\n      <h2 className=\"mb-4 \">All products:</h2>\r\n      <Link className=\"btn btn-dark rounded\" to={`/admin/dashboard`}>\r\n        <span>Admin Home</span>\r\n      </Link>\r\n      <div className=\"card\">\r\n        <div className=\"card-header lead\">Manage products</div>\r\n        <div className=\"card-body\">\r\n          <div className=\"row\">\r\n            <div className=\"col-12\">\r\n              <h2 className=\"text-center  my-3\">\r\n                Total {products.length} products\r\n              </h2>\r\n\r\n              {products &&\r\n                products.map((product, index) => {\r\n                  return (\r\n                    <div key={index}>\r\n                      <ul className=\"list-group\">\r\n                        <li className=\"list-group-item\">\r\n                          <div className=\"row text-center mb-2 \">\r\n                            <div className=\"col-4\">\r\n                              <h3>{product.name}</h3>\r\n                            </div>\r\n                            <div className=\"col-4\">\r\n                              <Link\r\n                                className=\"btn btn-success rounded\"\r\n                                to={`/admin/product/update/${product._id}`}\r\n                              >\r\n                                <span>Update</span>\r\n                              </Link>\r\n                            </div>\r\n                            <div className=\"col-4\">\r\n                              <button\r\n                                onClick={() => {\r\n                                  deleteMyProduct(product._id);\r\n                                }}\r\n                                className=\"btn btn-danger rounded\"\r\n                              >\r\n                                Delete\r\n                              </button>\r\n                            </div>\r\n                          </div>\r\n                        </li>\r\n                      </ul>\r\n                    </div>\r\n                  );\r\n                })}\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </Base>\r\n  );\r\n};\r\n\r\nexport default ManageProducts;\r\n","import React, { useState, useEffect } from \"react\";\r\nimport Base from \"../core/Base\";\r\nimport { Link, Redirect } from \"react-router-dom\";\r\nimport {\r\n  getCategories,\r\n  getProduct,\r\n  updateProduct,\r\n} from \"./helper/adminapicall\";\r\nimport { isAuthenticated } from \"../auth/helper/index\";\r\n\r\nconst UpdateProduct = ({ match }) => {\r\n  const { user, token } = isAuthenticated();\r\n\r\n  const [values, setValues] = useState({\r\n    name: \"\",\r\n    description: \"\",\r\n    price: \"\",\r\n    stock: \"\",\r\n    photo: \"\",\r\n    categories: [],\r\n    category: \"\",\r\n    loading: false,\r\n    error: \"\",\r\n    createdProduct: \"\",\r\n    getaRedirect: false,\r\n    formData: \"\",\r\n  });\r\n\r\n  const {\r\n    name,\r\n    description,\r\n    price,\r\n    stock,\r\n    categories,\r\n    category,\r\n    loading,\r\n    error,\r\n    createdProduct,\r\n    getaRedirect,\r\n    formData,\r\n  } = values;\r\n\r\n  const preload = (productId) => {\r\n    getProduct(productId).then((data) => {\r\n      if (data.error) {\r\n        setValues({ ...values, error: data.error });\r\n      } else {\r\n        preloadCategories();\r\n        setValues({\r\n          ...values,\r\n          name: data.name,\r\n          description: data.description,\r\n          price: data.price,\r\n          category: data.category._id,\r\n          stock: data.stock,\r\n          formData: new FormData(),\r\n        });\r\n      }\r\n    });\r\n  };\r\n\r\n  const preloadCategories = () => {\r\n    getCategories().then((data) => {\r\n      if (data.error) {\r\n        setValues({ ...values, error: data.error });\r\n      } else {\r\n        setValues({\r\n          categories: data,\r\n          formData: new FormData(),\r\n        });\r\n      }\r\n    });\r\n  };\r\n\r\n  useEffect(() => {\r\n    preload(match.params.productId);\r\n  }, []);\r\n\r\n  const onSubmit = (event) => {\r\n    event.preventDefault();\r\n    setValues({ ...values, error: \"\", loading: true });\r\n\r\n    updateProduct(match.params.productId, user._id, token, formData).then(\r\n      (data) => {\r\n        if (data.error) {\r\n          setValues({ ...values, error: data.error });\r\n        } else {\r\n          setValues({\r\n            ...values,\r\n            name: \"\",\r\n            description: \"\",\r\n            price: \"\",\r\n            photo: \"\",\r\n            stock: \"\",\r\n            loading: false,\r\n            getaRedirect: true,\r\n            createdProduct: data.name,\r\n          });\r\n        }\r\n      }\r\n    );\r\n  };\r\n\r\n  const handleChange = (name) => (event) => {\r\n    const value = name === \"photo\" ? event.target.files[0] : event.target.value;\r\n    formData.set(name, value);\r\n    setValues({ ...values, [name]: value });\r\n  };\r\n\r\n  const successMessage = () => (\r\n    <div\r\n      className=\"alert alert-success mt-2\"\r\n      style={{ display: createdProduct ? \"\" : \"none\" }}\r\n    >\r\n      <h4>{createdProduct} Updated Successfully</h4>\r\n    </div>\r\n  );\r\n\r\n  const performRedirect = () => {\r\n    if (getaRedirect) {\r\n      setTimeout(() => {\r\n        window.location.href = \"/\";\r\n      }, 3000);\r\n    }\r\n  };\r\n\r\n  const warningMessage = () => (\r\n    <div\r\n      className=\"alert alert-success mt-2\"\r\n      style={{ display: error ? \"\" : \"none\" }}\r\n    >\r\n      <h4>{error} Failed to Update</h4>\r\n    </div>\r\n  );\r\n\r\n  const updateProductForm = () => (\r\n    <form>\r\n      <span>Post photo</span>\r\n      <div className=\"form-group\">\r\n        <label className=\"btn btn-block btn-success rounded\">\r\n          <input\r\n            onChange={handleChange(\"photo\")}\r\n            type=\"file\"\r\n            name=\"photo\"\r\n            accept=\"image\"\r\n            placeholder=\"choose a file\"\r\n          />\r\n        </label>\r\n      </div>\r\n      <div className=\"form-group\">\r\n        <input\r\n          onChange={handleChange(\"name\")}\r\n          name=\"photo\"\r\n          className=\"form-control\"\r\n          placeholder=\"Name\"\r\n          value={name}\r\n        />\r\n      </div>\r\n      <div className=\"form-group\">\r\n        <textarea\r\n          onChange={handleChange(\"description\")}\r\n          name=\"photo\"\r\n          className=\"form-control\"\r\n          placeholder=\"Description\"\r\n          value={description}\r\n        />\r\n      </div>\r\n      <div className=\"form-group\">\r\n        <input\r\n          onChange={handleChange(\"price\")}\r\n          type=\"number\"\r\n          className=\"form-control\"\r\n          placeholder=\"Price\"\r\n          value={price}\r\n        />\r\n      </div>\r\n      <div className=\"form-group\">\r\n        <select\r\n          onChange={handleChange(\"category\")}\r\n          className=\"form-control\"\r\n          placeholder=\"Category\"\r\n        >\r\n          <option>Select</option>\r\n          {categories &&\r\n            categories.map((cate, index) => (\r\n              <option key={index} value={cate._id}>\r\n                {cate.name}\r\n              </option>\r\n            ))}\r\n        </select>\r\n      </div>\r\n      <div className=\"form-group\">\r\n        <input\r\n          onChange={handleChange(\"stock\")}\r\n          type=\"number\"\r\n          className=\"form-control\"\r\n          placeholder=\"Stock\"\r\n          value={stock}\r\n        />\r\n      </div>\r\n\r\n      <button\r\n        type=\"submit\"\r\n        onClick={onSubmit}\r\n        className=\"btn btn-outline-success mb-2 rounded\"\r\n      >\r\n        Update Product\r\n      </button>\r\n    </form>\r\n  );\r\n\r\n  return (\r\n    <Base\r\n      title=\"Add a product here\"\r\n      description=\"Welcome to product creation\"\r\n      className=\"container  p-4\"\r\n    >\r\n      <Link to=\"/admin/dashboard\" className=\"btn btn-md btn-success mb-3\">\r\n        Admin Home\r\n      </Link>\r\n      <div className=\"row rounded\">\r\n        <div className=\"col-md-8 offset-md-2\">\r\n          {performRedirect()}\r\n          {successMessage()}\r\n          {warningMessage()}\r\n          {updateProductForm()}\r\n        </div>\r\n      </div>\r\n    </Base>\r\n  );\r\n};\r\n\r\nexport default UpdateProduct;\r\n","import React, { useState, useEffect } from \"react\";\r\nimport Base from \"../core/Base\";\r\nimport { isAuthenticated } from \"../auth/helper\";\r\nimport { Link } from \"react-router-dom\";\r\nimport { updateCategory, getCategory } from \"../admin/helper/adminapicall\";\r\n\r\nconst UpdateCategory = ({ match }) => {\r\n  const [name, setName] = useState(\"\");\r\n  const [error, setError] = useState(false);\r\n  const [success, setSuccess] = useState(false);\r\n  const { user, token } = isAuthenticated();\r\n\r\n  const preload = (categoryId) => {\r\n    getCategory(categoryId).then((data) => {\r\n      if (data.error) {\r\n        setError(data.error);\r\n      } else {\r\n        setError(false);\r\n        setName(data.name);\r\n      }\r\n    });\r\n  };\r\n\r\n  useEffect(() => {\r\n    preload(match.params.categoryId);\r\n  }, []);\r\n\r\n  const goBack = () => (\r\n    <div className=\"mt-4\">\r\n      <Link\r\n        className=\"btn btn-sm btn-success mb-4 rounded\"\r\n        to=\"/admin/categories\"\r\n      >\r\n        Managa categories\r\n      </Link>\r\n    </div>\r\n  );\r\n\r\n  const handleChange = (event) => {\r\n    setError(\"\");\r\n    setName(event.target.value);\r\n  };\r\n\r\n  const onSubmit = (event) => {\r\n    event.preventDefault();\r\n    setError(\"\");\r\n    setSuccess(false);\r\n\r\n    updateCategory(match.params.categoryId, user._id, token, { name }).then(\r\n      (data) => {\r\n        if (data.error) {\r\n          setError(true);\r\n        } else {\r\n          setError(\"\");\r\n          setSuccess(true);\r\n          setName(\"\");\r\n        }\r\n      }\r\n    );\r\n  };\r\n\r\n  const successMessage = () => {\r\n    if (success) {\r\n      return (\r\n        <div>\r\n          <h4 className=\"text-success\">Category Updated Succesfully!</h4>\r\n        </div>\r\n      );\r\n    }\r\n  };\r\n\r\n  const warningMessage = () => {\r\n    if (error) {\r\n      return (\r\n        <div>\r\n          <h4 className=\"text-success\">Failed to Update Category </h4>\r\n        </div>\r\n      );\r\n    }\r\n  };\r\n\r\n  const performRedirect = () => {\r\n    if (success) {\r\n      setTimeout(() => {\r\n        window.location.href = \"/\";\r\n      }, 3000);\r\n    }\r\n  };\r\n\r\n  const UpdateCategoryForm = () => {\r\n    return (\r\n      <form>\r\n        <div className=\"form-group\">\r\n          <p className=\"lead\">Update Category</p>\r\n          <input\r\n            type=\"text\"\r\n            className=\"form-control my-3\"\r\n            onChange={handleChange}\r\n            value={name}\r\n            autoFocus\r\n            required\r\n            placeholder=\"For Ex.Summer\"\r\n          />\r\n          <button onClick={onSubmit} className=\"btn btn-outline-danger rounded\">\r\n            Update Category\r\n          </button>\r\n        </div>\r\n      </form>\r\n    );\r\n  };\r\n\r\n  return (\r\n    <Base\r\n      title=\"Update a Category here\"\r\n      description=\"New category for photos\"\r\n      className=\"container bg-success p-4\"\r\n    >\r\n      <div className=\"row bg-white rounded\">\r\n        <div className=\"col-md-8 offset-md-2\">\r\n          {successMessage()}\r\n          {warningMessage()}\r\n          {UpdateCategoryForm()}\r\n          {goBack()}\r\n          {performRedirect()}\r\n        </div>\r\n      </div>\r\n    </Base>\r\n  );\r\n};\r\n\r\nexport default UpdateCategory;\r\n","import React, { useState, useEffect } from \"react\";\r\nimport { loadCart, cartEmpty } from \"./helper/cartHelper\";\r\nimport { Link } from \"react-router-dom\";\r\nimport { getmeToken, processPayment } from \"./helper/paymentBHelper\";\r\nimport { createOrder } from \"./helper/orderHelper\";\r\nimport { isAuthenticated } from \"../auth/helper\";\r\n\r\nimport DropIn from \"braintree-web-drop-in-react\";\r\n\r\nconst Paymentb = ({ products, setReload = (f) => f, reload = undefined }) => {\r\n  const [info, setInfo] = useState({\r\n    loading: false,\r\n    success: false,\r\n    clientToken: null,\r\n    error: \"\",\r\n    instance: {},\r\n  });\r\n\r\n  const userId = isAuthenticated() && isAuthenticated().user._id;\r\n  const token = isAuthenticated() && isAuthenticated().token;\r\n\r\n  const getToken = (userId, token) => {\r\n    getmeToken(userId, token).then((info) => {\r\n      if (info.error) {\r\n        setInfo({ ...info, error: info.error });\r\n      } else {\r\n        const clientToken = info.clientToken;\r\n        setInfo({ clientToken });\r\n      }\r\n    });\r\n  };\r\n\r\n  const showbtdropIn = () => {\r\n    return (\r\n      <div>\r\n        {info.clientToken !== null && products.length > 0 ? (\r\n          <div>\r\n            <DropIn\r\n              options={{ authorization: info.clientToken }}\r\n              onInstance={(instance) => (info.instance = instance)}\r\n            />\r\n            <button\r\n              className=\"btn btn-block btn-success rounded\"\r\n              onClick={onPurchase}\r\n            >\r\n              Buy\r\n            </button>\r\n          </div>\r\n        ) : (\r\n          <h3>Please login or add something to cart</h3>\r\n        )}\r\n      </div>\r\n    );\r\n  };\r\n\r\n  useEffect(() => {\r\n    getToken(userId, token);\r\n  }, []);\r\n\r\n  const onPurchase = () => {\r\n    setInfo({ loading: true });\r\n    let nonce;\r\n    let getNonce = info.instance.requestPaymentMethod().then((data) => {\r\n      nonce = data.nonce;\r\n      const paymentData = {\r\n        paymentMethodNonce: nonce,\r\n        amount: getAmount(),\r\n      };\r\n      processPayment(userId, token, paymentData)\r\n        .then((response) => {\r\n          setInfo({ ...info, success: response.success, loading: false });\r\n          console.log(\"PAYMENT SUCCESS\");\r\n          const orderData = {\r\n            products: products,\r\n            transaction_id: response.transaction.id,\r\n            amount: response.transaction.amount,\r\n          };\r\n          createOrder(userId, token, orderData);\r\n          cartEmpty(() => {\r\n            console.log(\"Did we got a crash?\");\r\n          });\r\n\r\n          setReload(!reload);\r\n        })\r\n        .catch((error) => {\r\n          setInfo({ loading: false, success: false });\r\n          console.log(\"PAYMENT FAILED\");\r\n        });\r\n    });\r\n  };\r\n\r\n  const getAmount = () => {\r\n    let amount = 0;\r\n    products.map((p) => {\r\n      amount = amount + p.price;\r\n    });\r\n    return amount;\r\n  };\r\n\r\n  return (\r\n    <div>\r\n      <h3>Your bill is {getAmount()} $</h3>\r\n      {showbtdropIn()}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Paymentb;\r\n","import { API } from \"../../backend\";\r\n\r\nexport const getmeToken = (userId, token) => {\r\n  return fetch(`${API}payment/gettoken/${userId}`, {\r\n    method: \"GET\",\r\n    headers: {\r\n      Accept: \"application/json\",\r\n      \"Content-Type\": \"application/json\",\r\n      Authorization: `Bearer ${token}`,\r\n    },\r\n  })\r\n    .then((response) => {\r\n      return response.json();\r\n    })\r\n    .catch((err) => console.log(err));\r\n};\r\n\r\nexport const processPayment = (userId, token, paymentInfo) => {\r\n  return fetch(`${API}/payment/braintree/${userId}`, {\r\n    method: \"POST\",\r\n    headers: {\r\n      Accept: \"application/json\",\r\n      \"Content-Type\": \"application/json\",\r\n      Authorization: `Bearer ${token}`,\r\n    },\r\n    body: JSON.stringify(paymentInfo),\r\n  })\r\n    .then((reponse) => {\r\n      return reponse.json();\r\n    })\r\n    .catch((err) => console.log(err));\r\n};\r\n","import { API } from \"../../backend\";\r\n\r\nexport const createOrder = (userId, token, orderData) => {\r\n  return fetch(`${API}order/create/${userId}`, {\r\n    method: \"POST\",\r\n    headers: {\r\n      Accept: \"application/json\",\r\n      \"Content-Type\": \"application/json\",\r\n      Authorization: `Bearer ${token}`,\r\n    },\r\n    body: JSON.stringify({ order: orderData }),\r\n  })\r\n    .then((reponse) => {\r\n      return reponse.json();\r\n    })\r\n    .catch((err) => console.log(err));\r\n};\r\n","import React, { useState, useEffect } from \"react\";\r\nimport \"../styles.css\";\r\nimport { API } from \"../backend\";\r\nimport Base from \"./Base\";\r\nimport Card from \"./Card\";\r\nimport { loadCart } from \"./helper/cartHelper\";\r\nimport Paymentb from \"./paymentB\";\r\n\r\nconst Cart = () => {\r\n  const [products, setProducts] = useState([]);\r\n  const [reload, setReload] = useState(false);\r\n\r\n  useEffect(() => {\r\n    setProducts(loadCart());\r\n  }, [reload]);\r\n\r\n  const loadAllProducts = (products) => {\r\n    return (\r\n      <div>\r\n        <h2>This is Section is to load products</h2>\r\n        {products.map((product, index) => (\r\n          <Card\r\n            key={index}\r\n            product={product}\r\n            removeFromCart={true}\r\n            addtoCart={false}\r\n            setReload={setReload}\r\n            reload={reload}\r\n          />\r\n        ))}\r\n      </div>\r\n    );\r\n  };\r\n\r\n  const loadCheckOut = () => {\r\n    return (\r\n      <div>\r\n        <h2>This is Section is for checkout</h2>\r\n      </div>\r\n    );\r\n  };\r\n\r\n  return (\r\n    <Base title=\"Cart Page\" description=\"Ready to checkout\">\r\n      <div className=\"row text-center\">\r\n        <div className=\"col-6\">\r\n          {products.length > 0 ? (\r\n            loadAllProducts(products)\r\n          ) : (\r\n            <h3>No products in cart</h3>\r\n          )}\r\n        </div>\r\n\r\n        <div className=\"col-6\">\r\n          <Paymentb products={products} setReload={setReload} />\r\n        </div>\r\n      </div>\r\n    </Base>\r\n  );\r\n};\r\n\r\nexport default Cart;\r\n","import React from \"react\";\r\nimport { BrowserRouter, Switch, Route } from \"react-router-dom\";\r\nimport Home from \"./core/Home\";\r\nimport Signup from \"./user/Signup\";\r\nimport Signin from \"./user/Signin\";\r\nimport AdminRoute from \"./auth/helper/AdminRoutes\";\r\nimport PrivateRoute from \"./auth/helper/PrivateRoutes\";\r\nimport UserDashBoard from \"./user/UserDashBoard\";\r\nimport AdminDashBoard from \"./user/AdminDashBoard\";\r\nimport AddCategory from \"./admin/AddCategory\";\r\nimport ManageCategories from \"./admin/ManageCategories\";\r\nimport AddProduct from \"./admin/AddProduct\";\r\nimport ManageProducts from \"./admin/ManageProducts\";\r\nimport UpdateProduct from \"./admin/UpdateProduct\";\r\nimport UpdateCategory from \"./admin/UpdateCategory\";\r\nimport Cart from \"./core/Cart\";\r\n\r\nconst Routes = () => {\r\n  return (\r\n    <BrowserRouter>\r\n      <Switch>\r\n        <Route path=\"/\" exact component={Home} />\r\n        <Route path=\"/signup\" exact component={Signup} />\r\n        <Route path=\"/signin\" exact component={Signin} />\r\n        <Route path=\"/cart\" exact component={Cart} />\r\n\r\n        <PrivateRoute path=\"/user/dashboard\" exact component={UserDashBoard} />\r\n        <AdminRoute path=\"/admin/dashboard\" exact component={AdminDashBoard} />\r\n        <AdminRoute\r\n          path=\"/admin/create/category\"\r\n          exact\r\n          component={AddCategory}\r\n        />\r\n        <AdminRoute\r\n          path=\"/admin/categories\"\r\n          exact\r\n          component={ManageCategories}\r\n        />\r\n        <AdminRoute path=\"/admin/create/product\" exact component={AddProduct} />\r\n        <AdminRoute path=\"/admin/products\" exact component={ManageProducts} />\r\n        <AdminRoute\r\n          path=\"/admin/product/update/:productId\"\r\n          exact\r\n          component={UpdateProduct}\r\n        />\r\n        <AdminRoute\r\n          path=\"/admin/category/update/:categoryId\"\r\n          exact\r\n          component={UpdateCategory}\r\n        />\r\n      </Switch>\r\n    </BrowserRouter>\r\n  );\r\n};\r\n\r\nexport default Routes;\r\n","import React from \"react\";\r\nimport Routes from \"./Routes\";\r\nimport ReactDOM from \"react-dom\";\r\n\r\nReactDOM.render(<Routes />, document.getElementById(\"root\"));\r\n"],"sourceRoot":""}